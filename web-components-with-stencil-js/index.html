<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <title>reveal.js</title>

    <link rel="stylesheet" href="css/reveal.css">
    <link rel="stylesheet" href="css/theme/white.css">
    <link rel="stylesheet" href="css/custom.css">

    <!-- Theme used for syntax highlighting of code -->
    <link rel="stylesheet" href="lib/css/solarized-dark.css">

    <!-- Printing and PDF exports -->
    <script>
        var link = document.createElement('link');
        link.rel = 'stylesheet';
        link.type = 'text/css';
        link.href = window.location.search.match(/print-pdf/gi) ? 'css/print/pdf.css' : 'css/print/paper.css';
        document.getElementsByTagName('head')[0].appendChild(link);
    </script>
</head>
<body>
<a href="https://twitter.com/kwintenp" style="font-family: 'Roboto', sans-serif;
    text-decoration: none;
    font-size: 2em;
    position: absolute;
    bottom: 1em;
    left: 1.5em;
    z-index: 2;
    color: #AAA;">@KwintenP</a>
<div class="reveal">
    <div class="slides">
        <section data-background-color="#4a86e8" style="display: flex; justify-content: center; flex-direction: column">
            <h2>Web components with StencilJS</h2>
            <img src="images/stencil_logo.png" alt="" style="box-shadow: none; background: none;">
            <p>by @KwintenP</p>
        </section>
        <section>
            <section data-background-image="./images/question_marks.jpg">
                <aside class="notes">
                    Who is on twitter? Has anyone every just avoided your twitter feed for a while just out of fear that
                    something has changed yet again?
                    I have.
                </aside>
            </section>
            <section class="full-screen">
                <div class="fade-on-new-fragment"
                     style="height: 75%; position: relative; width: 100%; display: flex; justify-items: center; justify-content: center; align-items: center; align-content: center; flex: 1;">
                    <img class="fragment" style="position: absolute; transform: rotate(0.005turn) "
                         src="./images/new_framework_comic.jpg"/>
                    <img class="fragment" style="position: absolute; transform: rotate(-0.005turn) "
                         src="./images/another_framework.jpg"/>
                    <img class="fragment" style="position: absolute; transform: rotate(0.008turn) "
                         src="./images/no_new_frameworks.jpg"/>
                    <img class="fragment" style="position: absolute; transform: rotate(0.000turn) "
                         src="./images/upgrade.jpg"/>
                </div>
                <aside class="notes">
                    New frameworks coming out.
                    No easy way to upgrade.
                </aside>
            </section>
            <section class="full-screen">
                <div class="fade-on-new-fragment"
                     style="height: 75%; position: relative; width: 100%; display: flex; justify-items: center; justify-content: center; align-items: center; align-content: center; flex: 1;">
                    <img class="fragment" style="position: absolute; transform: rotate(0.005turn) "
                         src="images/component_libs_angular.png"/>
                    <img class="fragment" style="position: absolute; transform: rotate(-0.005turn) "
                         src="images/component_libs_react.png"/>
                    <img class="fragment" style="position: absolute; transform: rotate(0.008turn) "
                         src="images/component_libs_vuejs.png"/>
                </div>
                <aside class="notes">
                    We keep doing the same thing in the newly created frameworks.
                    Over and over again.
                </aside>
            </section>
            <section data-background-image="https://media.giphy.com/media/aMF29ird5nz32/giphy.gif">
            </section>
        </section>
        <section>
            <section style="height: 80vh;">
                    <div style="position: absolute; width: 100%; background-color: black; opacity: .75; top: 40px; padding: 15px 0 5px; text-align: center; color: white">
                        Freelance Frontend Architect
                    </div>
                    <img src="images/me2.JPG" style="max-width: 100%; max-height: 100%" alt="">
            </section>
            <section>
                <div style="width: 100%; height: 100%">
                    <div style="position: absolute; width: 100%; background-color: black; opacity: .75; top: 40px; padding: 15px 0 5px; text-align: center; color: white">
                        Founder of Strongbrew
                    </div>
                    <img src="images/banner-ng-be-2017.jpg" style="max-width: 100%; max-height: 100%" alt="">
                </div>
            </section>
            <section>
                <div style="width: 100%; height: 100%">
                    <div style="position: absolute; width: 100%; background-color: black; opacity: .75; top: 40px; padding: 15px 0 5px; text-align: center; color: white">
                        Blog
                    </div>
                    <img src="images/blog_strongbrew.png" style="max-width: 100%; max-height: 100%" alt="">
                </div>
            </section>
        </section>
        <section>
            <section>
                <div class="box">
                    <img src="images/logo_512x512.png" style="box-shadow: none"/>
                </div>
            </section>
            <!--<section>-->
            <!--<div class="box">-->
            <!--<h3>Super brief history</h3>-->
            <!--<ul>-->
            <!--<li>Webcomponents v0 by Chrome in 2013</li>-->
            <!--<li>Supported by Chrome and Opera in 2014</li>-->
            <!--<li>2015 - 2016 Discussions and support in Chrome and Opera</li>-->
            <!--</ul>-->
            <!--</div>-->
            <!--</section>-->
            <section>
                <div class="box">
                    <div class="images-align">
                        <div style="display: flex; flex-direction: column; align-items: center; font-size: 2rem">
                            <img src="images/templates_512x512.png"/>
                            <span>Html templates</span>
                        </div>
                        <div style="display: flex; flex-direction: column; align-items: center; font-size: 2rem">
                            <img src="images/shadow-dom_512x512.png"/>
                            <span>Shadow DOM</span>
                        </div>
                        <div style="display: flex; flex-direction: column; align-items: center; font-size: 2rem">
                            <img src="images/custom-elements_512x512.png"/>
                            <span>Custom elements</span>
                        </div>
                    </div>
                </div>
            </section>
            <section style="margin-top: -20px; height: 75vh;">
                <div class="box" style="margin-bottom: 0.5em; height: 100%">
                    <h3>Html templates</h3>
                    Declaring a template
                    <pre>
                        <code data-trim>
                            <template id="mytemplate">
                              <img src="my-awesome-image.png"
                                   alt="great image">
                              <div class="comment"></div>
                            </template>
                        </code>
                    </pre>
                    <span class="fragment">
                        Adding it to the DOM
                        <pre>
                            <code data-trim>
                                var t = document.querySelector('#mytemplate');

                                var clone = document.importNode(t.content, true);
                                document.body.appendChild(clone);
                            </code>
                        </pre>
                    </span>
                </div>
                <aside class="notes">
                    Template -> fragment of markup that doesn't render on startup and is inert. (doesn't load images)
                </aside>
            </section>
            <section>
                <div class="box">
                    <h3>Shadow dom</h3>
                    <pre>
                        <code data-trim>
                            const helloWorld = document.createElement('hello-world');
                            const shadowRoot = helloWorld.attachShadow({mode: 'open'});
                            shadowRoot.innerHTML = '<h1>hello Kwinten</h1>';
                        </code>
                    </pre>

                    Allows to attach <strong>an encapsulated DOM-tree</strong>
                    <img src="./images/shadow_dom.png"/>
                </div>
            </section>
            <section data-background-color="#4a86e8">
                    <h4>Custom elements are <strong>natively supported</strong> javascript components</h4>
            </section>
            <section style="height: 75vh">
                <div class="box" style="height: 100%">
                    <h3>Custom element example</h3>
                    <div style="height: 60vh; width: 50vw; margin-left: auto; margin-right: auto; display: block;">
                        <img style="margin-left: auto; margin-right: auto; display: block;" src="images/web-components-example.gif"/>
                    </div>
                </div>
            </section>
            <section>
                <div class="box">
                    <h3>Custom elements - attributes</h3>
                    <pre><code style="font-size: 85%;" data-noescape>class HelloWorld extends HTMLElement {
    <span class="fragment">static get observedAttributes() {
        return ["who"];
    }</span>

    <span class="fragment">attributeChangedCallback(name, oldValue, newValue) {
        console.log("the name has changed");
        this._who = newValue;
        this._updateRendering();
    }
</span>}</code></pre>
                </div>
            </section>
            <section>
                <div class="box">
                    <h3>Custom elements - Properties</h3>
                    <pre><code style="font-size: 85%;" data-noescape>class HelloWorld extends HTMLElement {
    <span class="fragment">get who() {
        return this._who;
    }</span>
    <span class="fragment">set who(v) {
        this.setAttribute("who", v);
    }
</span>}</code></pre>
                </div>
            </section>
            <section>
                <div class="box">
                    <h3>Custom elements - Update DOM</h3>
                    <pre><code style="font-size: 85%;" data-noescape>class HelloWorld extends HTMLElement {
    <span class="fragment">_updateRendering() {
        if(!this.shadowRoot) {
            this.attachShadow({mode: "open"});
        }
        const data = "hello " +
            (this._who ? this._who : "world");
        this.shadowRoot.innerHTML = data;
    }
</span>}</code></pre>
                </div>
            </section>
            <section>
                <div class="box">
                    <h4 style="border-bottom: 1px solid #DBDBDB;">Defining custom elements</h4>
                    <span class="fragment">
                        <pre><code>customElements.define("hello-world", HelloWorld);</code></pre>
                    </span>
                    <h4 style="border-bottom: 1px solid #DBDBDB;" class="fragment">Using custom elements</h3>
                    <span class="fragment">
                        <pre><code><hello-world who="JSBE"></hello-world></code></pre>
                        <pre><code>document.body.appendChild(new HelloWorld());</code></pre>
                    </span>
                </div>
            </section>
            <section>
                <div class="box">
                    <h3>Lifecycle of a webcomponent</h3>
                    <ul>
                        <span class="fragment"><li><strong>Constructor</strong> --> Creation</li></span>
                        <span class="fragment"><li><strong>connectedCallback</strong> --> Added to DOM</li></span>
                        <span class="fragment"><li><strong>disconnectedCallback</strong> --> Removed from DOM</li></span>
                        <span class="fragment"><li><strong>attributeChangedCallback</strong> --> Attribute changed</li></span>
                    </ul>
                </div>
            </section>
            <section>
                <div class="box">
                    <h3>Can I use this?</h3>
                    <img src="images/can_i_use_wc.png" alt="" class="src">
                </div>
            </section>
            <section style="height: 70vh;">
                <div class="box" style="height: 100%; display:flex; flex-direction: column;">
                    <p>Custom elements are awesome!</p>
                    <br/>
                    <span class="fragment">
                        Then why don't we use them more?
                    </span>
                    <span class="fragment">
                        <img src="images/confused.gif"/>
                    </span>
                </div>
            </section>
            <section style="height: 70vh;">
                <div class="box" style="height: 100%; display:flex; flex-direction: column;">
                    <h3>What are we missing?</h3>
                    <span class="fragment">
                        <ul>
                            <li>Manual DOM manipulation</li>
                            <li class="fragment">Rendering speed</li>
                            <li class="fragment">No framework features</li>
                        </ul>
                    </span>
                    <span class="fragment" style="margin-top: 50px;">
                        <img src="images/old_computer.gif" height="40%" width="40%"/>
                    </span>
                </div>
            </section>
            <section>
                <div class="box" style="height: 70vh">
                    <h4 style="border-bottom: 1px solid #DBDBDB;">Wait! Can't I use jQuery for that?</h4>
                    <!--<span class="fragment">-->

                    <!--</span>-->
                      <span style="padding-right:3px; padding-top: 3px; display:block; height: 75vh;">
                        <img src="images/no_you_cant.gif" />
                      </span>
                </div>
            </section>
            <section>
                <img src="images/ben_lesh_tweet.png" style="height: 70vh;"/>
            </section>
        </section>


        <section>
            <section data-background-color="#4a86e8">
                <h2>Introducing stenciljs</h2>
                <img style="box-shadow: none; background: none;" src="images/stencil_logo.png"/>
            </section>
            <section data-background-color="#4a86e8">
                <h2>StencilJS <br/>
                    <span class="fragment fragment-remove fade-out shrink" style="text-align: center;">A framework for web components</span>
                    <span class="fragment fade-in" style="text-align: center; display: inherit">A <span style="text-decoration: underline">compiler</span> for web components</span>
                </h2>
            </section>
            <section>
                <div class="box">
                    <h3>What is stencil?</h3>
                    <ul style="display: flex; flex-direction: column; justify-content: center">
                        <li>Compiler to generate custom elements</li>
                        <li class="fragment">Stencil does NOT exist at runtime</li>
                        <li class="fragment">Facilitates the generation of WC</li>
                        <li class="fragment">Created by Ionic and the basis for Ionic 4</li>
                    </ul>
                </div>
            </section>
            <section data-background-image="images/power_rangers.gif">

            </section>
            <section style="height: 95vh">
                <div class="box">
                    <h3>Example Stencil component</h3>
                    <pre><code data-trim style="font-size: 85%" class="js">
                        import { Component, Prop } from '@stencil/core';

                        @Component({
                          tag: 'my-name',
                          styleUrl: 'my-name.scss',
                          shadow: true,
                        })
                        export class MyName {
                            @Prop() name: string;

                            render() {
                                return <p>Hello, my name is {this.name}</p>;
                            }
                        }
                    </code></pre>
                </div>
            </section>
            <section style="height: 75vh;">
                <div class="box">
                    <h3>How does it work</h3>
                    <span style="display:flex; justify-content: center; flex-direction: column; align-items: center">
                        <img src="images/stencil_component_image.png" alt="" height="8%" width="15%">
                        <img src="images/arrow_down.jpg" class="fragment" alt="" style="box-shadow: none" height="10%"
                             width="10%">
                        <img src="images/stencil_logo.png" class="fragment" alt="" style="box-shadow: none" height="10%"
                             width="10%">
                        <img src="images/arrow_down.jpg" class="fragment" alt="" style="box-shadow: none" height="10%"
                             width="10%">
                        <img src="images/webcomponents_logo%20copy.png" class="fragment" alt="" style="box-shadow: none"
                             height="10%" width="10%"/>
                    </span>
                </div>
            </section>
            <section style="height: 95vh">
                <div class="box">
                    <h3>Stencil API</h3>
                    <table style="font-size: 80%;">
                        <tr>
                            <td>@Component</td>
                            <td>Define information about the component</td>
                        </tr>
                        <tr>
                            <td>@Prop</td>
                            <td>Property on the custom element</td>
                        </tr>
                        <tr>
                            <td>@Watch</td>
                            <td>Called when the prop has changed</td>
                        </tr>
                        <tr>
                            <td>@Event</td>
                            <td>Custom event on the component</td>
                        </tr>
                        <tr>
                            <td>@Listen</td>
                            <td>Listen to events from children</td>
                        </tr>
                        <tr>
                            <td>@Element</td>
                            <td>Get reference to the DOM element</td>
                        </tr>
                        <tr>
                            <td>@State</td>
                            <td>Manage internal state that triggers rendering</td>
                        </tr>
                        <tr>
                            <td>@Method</td>
                            <td>Publicly available method</td>
                        </tr>
                    </table>
                </div>
            </section>
            <section>
                <div class="box">
                    <h3>Component lifecycle</h3>
                    <pre><code>@Component({
  tag: 'my-component'
})
export class MyComponent {
  componentWillLoad() {}

  componentDidLoad() {}

  componentWillUpdate() {}

  componentDidUpdate() {}

  componentDidUnload() {}
}</code></pre>
                </div>
            </section>
            <section>
                <div class="box"><h3>Custom events</h3>
                <pre><code>@Component({
  tag: 'demo-shopping-list-overview',
  styleUrl: 'shopping-list-overview.component.scss'
})
export class ShoppingListOverview {
  @Event() removeItem: EventEmitter;

  @Listen('removeItem')
  removeItem(event: CustomEvent) {
    event.stopPropagation();
    this.removeItem.emit({id: event.id});
  }
}</code></pre></div>
            </section>
            <section>
                <div class="box">
                    <h3>How does stencil facilitate the creation</h3>
                    <ul style="display: flex; flex-direction: column; justify-content: center">
                        <li class="fragment">Uses Virtual DOM for better performance</li>
                        <li class="fragment">Automatic updating on changes</li>
                        <li class="fragment">Async rendering system like React Fiber</li>
                        <li class="fragment">Uses JSX for markup</li>
                        <li class="fragment">Built on typescript for static type checking</li>
                        <li class="fragment">Familiar APIs from other frameworks</li>
                    </ul>
                </div>
                <aside class="notes">
                    Stencil is een compiler,
                    Stencil helpt ons WC maken + gebaseerd op andere FW,
                    Tonen wat een stencil WC is,
                    Waarom zouden we nu Stencil moeten gebruiken,
                    Based on techs we know, typescript, jsx, decorators,...
                    (size bundle and code, virtual dom, async rendering like react fiber, interoptability)
                    He, we hebben webcomponents, waarom daar geen app in bouwen
                    Demo applicatie
                    Relation betweeen WC en Frameworks
                    Andere features zoals pre rendering, lazy loading
                    Hoe gebruiken in andere frameworks
                </aside>
            </section>
            <section>
                <img src="images/ben_lesh_tweet.png" style="height: 70vh;"/>
            </section>
            <section style="height: 75vh;">
                <div class="box">
                    <h3>Components with stencil</h3>
                    <img style="height: 69%" src="images/stencil_component_starter.png" alt="">
                </div>
            </section>
            <section>
                <div class="box">
                    <h3>Why stencil?</h3>
                    <ul style="display: flex; flex-direction: column; justify-content: center">
                        <li class="fragment">Bundle size (core only 5,4kb!)</li>
                        <li class="fragment">Use only native browser APIs</li>
                        <li class="fragment">Auto loads polyfills if needed</li>
                        <li class="fragment">Interoperability with other frameworks</li>
                        <li class="fragment">No need to change when a new framework arrives</li>
                    </ul>
                </div>
            </section>
            <section>
                <img src="images/size_comparison.jpg" alt="" style="width: 100%;">
            </section>
        </section>
        <section>
            <section data-background-color="#4a86e8">
                <h1>Build entire apps with Stencil?</h1>
            </section>
            <section data-background-color="#4a86e8">
                <h1>PWA</h1>
            </section>
            <section style="75vh;">
                <div class="box background">
                    <h3>Building apps with stencil</h3>
                    <img height="69%" src="images/stencil_app_starter.png" alt="">
                </div>
            </section>
            <section>
                <div class="box">
                    <h3>How stencil supports PWA's</h3>
                    <ul>
                        <li class="fragment">Automatic service worker generation (workbox)</li>
                        <li class="fragment">Automatic manifest generation</li>
                        <li class="fragment">Support for Lazy loading</li>
                        <li class="fragment">Prerendering</li>
                        <li class="fragment">Easy SSR</li>
                    </ul>
                </div>
            </section>
            <section>
                <div class="box">
                    <h3>Lighthouse</h3>
                    <img src="images/lighthouse_stencil.png" alt="">
                </div>
            </section>
            <section style="height: 75vh;">
                <img src="images/stencil-overview.jpg" alt="" style="height: 100%;">
            </section>
            <section style="height: 75vh;">
                <img src="images/webshop_stencil.png" alt="" style="height: 100%;">
            </section>
            <section style="height: 75vh;">
                <img src="images/show_me_the_code.png" alt="" style="height: 100%;">
            </section>
        </section>
        <section>
            <section data-background-image="images/integration.jpg">
            </section>
            <section>
                <div class="box">
                    <h3>Integration in Angular</h3>
                    <pre><code>@NgModule({
  declarations: [
    AppComponent
  ],
  imports: [
    BrowserModule
  ],
  providers: [],
  bootstrap: [AppComponent],
  schemas: [
    CUSTOM_ELEMENTS_SCHEMA
  ]
})
export class AppModule { }
                    </code></pre>
                </div>
            </section>
            <section>
                <div class="box">
                    <h3>Integration in React</h3>
                    <pre><code>class HelloMessage extends React.Component {
  render() {
    return <div>Hello <x-search>{this.props.name}</x-search>!</div>;
  }
}</code></pre>
                </div>
            </section>
            <section>
                <div class="box">
                    <h3>VueJS</h3>
                    <pre><code>Vue.config.ignoredElements = [
  'hello-world'
]</code></pre>
                </div>
            </section>
        </section>
        <section>
            <section data-background-color="#4a86e8">
                <h1>What about after Stencil</h1>
            </section>
            <section data-transition="none">
                <img src="images/shop_stencil.001.jpeg" alt="">
            </section>
            <section data-transition="none">
                <img src="images/shop_stencil.002.jpeg" alt="">
            </section>
            <section data-transition="none">
                <img src="images/shop_stencil.003.jpeg" alt="">
            </section>
            <section data-transition="none">
                <img src="images/shop_stencil.004.jpeg" alt="">
            </section>
            <section data-background-color="#4a86e8">
                <h1>Web components as an architecture</h1>
            </section>
            <section data-transition="none">
                <img src="images/james_kyle.png" alt="">
            </section>
            <section data-transition="none">
                <img src="images/shop_stencil.007.jpeg" alt="">
            </section>
            <section data-transition="none">
                <img src="images/shop_stencil.005.jpeg" alt="">
            </section>
            <section data-transition="none">
                <img src="images/shop_stencil.006.jpeg" alt="">
            </section>
            <section data-transition="none">
                <img src="images/shop_stencil.008.jpeg" alt="">
            </section>
        </section>
        <section>
            <section data-background-image="images/wrap_it_up.gif">
            </section>
            <section>
                <div class="box">
                    <h3>Conclusion</h3>
                    <ul>
                        <li class="fragment">Web components are native components</li>
                        <li class="fragment">Stencil allows us to create WC easily</li>
                        <li class="fragment">Stencil is built using framework features</li>
                        <li class="fragment">No longer create the same components over and over</li>
                        <li class="fragment">Provides easier upgrade paths</li>
                    </ul>
                </div>
            </section>
            <section>
                <div class="box">
                    <h3>Resources</h3>
                    <ul>
                        <li><a style="color: black;" href="https://stenciljs.com/">StencilJS site</a></li>
                        <li><a style="color: black;" href="https://github.com/kwintenp/webshop-stencil">Source code
                            webshop</a></li>
                        <li><a style="color: black;" href="https://www.webcomponents.org/">Web components site</a></li>
                    </ul>
                </div>
            </section>
            <section data-background-image="images/thanks_for_listening.jpg"></section>
        </section>
    </div>
</div>

<script src="lib/js/head.min.js"></script>
<script src="js/reveal.js"></script>

<script>
    // More info about config & dependencies:
    // - https://github.com/hakimel/reveal.js#configuration
    // - https://github.com/hakimel/reveal.js#dependencies
    Reveal.initialize({
        history: true,
        dependencies: [
            {src: 'plugin/markdown/marked.js'},
            {src: 'plugin/markdown/markdown.js'},
            {src: 'plugin/notes/notes.js', async: true},
            {
                src: 'plugin/highlight/highlight.js', async: true, callback: function () {
                    hljs.initHighlightingOnLoad();
                }
            }
        ]
    });
</script>
</body>
</html>
